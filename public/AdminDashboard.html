<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <!-- Include any CSS stylesheets or external stylesheets here -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="#main" class="logo">CS.guide</a><!--هنا نضع اسم او لوقو موقعنا -->


        <nav class="navigation">
            <ul class="icons">
                <li><a href="http://localhost:3000"><i class="fa-solid fa-sign-out-alt"></i> Logout</a></li>
                <li class="dropdown">
                    <a href="javascript:void(0)">
                        <ul>
                            <i class="fa-solid fa-bars"></i>
                    </a>
                    <div class="dropdown-content">
                        <a href="#courses">
                            <h3>Courses</h3>
                        </a>
                        <a href="Core courses.html">
                            <ul>
                                <h4>Core courses</h4>
                            </ul>
                        </a>


                        <a href="General courses.html">
                            <h4>General courses</h4>
                        </a>

                        <a href="Elective courses.html">
                            <h4>Elective courses</h4>
                        </a>
                        <a href="#Resources">
                            <h3>Resources</h3>
                        </a>
                        <a
                            href="https://sso.imamu.edu.sa/authenticationendpoint/login.do?Name=PreLoginRequestProcessor&TARGET=https%3A%2F%2Fbstss.imamu.edu.sa%2FStudentSelfService%2Flogin%2Fcas&commonAuthCallerPath=%252Fcas%252Flogin&forceAuth=true&passiveAuth=false&tenantDomain=carbon.super&sessionDataKey=ee8f83ce-31bd-4a7c-b4dc-048d6e01b784&relyingParty=StudentSelfService_PROD&type=cas&sp=StudentSelfService_PROD&isSaaSApp=false&authenticators=BasicAuthenticator%3ALOCAL">
                            <ul>
                                <h4>Self service system (Banner)</h4>
                            </ul>
                        </a>
                        <a href="https://students.imamu.edu.sa/">
                            <ul>
                                <h4>Support services</h4>
                            </ul>
                        </a>

                        <a href="#Services">
                            <h3>Services</h3>
                        </a>
                        <a href="#Calculate">
                            <ul>
                                <h4>Calculate GPA</h4>
                            </ul>
                        </a>
                        <a href="https://www.sh3bh.com/">
                            <ul>
                                <h4>Contact with colleges</h4>
                            </ul>
                        </a>
                        <a href="https://chat.whatsapp.com/K8ZAT2ERiR8DWddZZRhV69">
                            <ul>
                                <h4>Announcement</h4>
                            </ul>
                        </a>
                    </div>
                </li>
            </ul>
            <li><a href="#main"><i class="fa-solid fa-home"></i></a> </li>
            <li><a href="search.html"><i class="fa-solid fa-search"></i></a></uli>
                </ul>
        </nav>
    </header>
    <br><br><br><br><br>
    <h1>Admin Dashboard</h1>
    <br><br><br><br><br>
    <h2>Select Course</h2>
    <label for="courseType">Select Course Type:</label>
    <select id="courseType">
        <option value="core">Core Courses</option>
        <option value="elective">Elective Courses</option>
        <option value="general">General Courses</option>
    </select>
<br>
    <label for="courses">Select Course:</label>
    <select id="courses">
        <!-- Options will be dynamically populated based on the course type selection -->
    </select> <br>
    <label for="resourceType">Select Resource Type:</label>
    <select id="resourceType">
        <option value="exams">Exams</option>
        <option value="assignments">Assignments</option>
        <option value="slides">Slides</option>
        <option value="books">Books</option>
        <option value="tutorials">Tutorials</option>
        <option value="explanations">Explanations</option>
        <option value="project">Project</option>
        <option value="summary">Summary</option>
    </select>
    <section class="cards" id="courses">
        <!-- Form to add a new file -->
        <h2>Add File</h2>
        <form id="addFileForm" enctype="multipart/form-data" action="/upload" method="POST">
            <label for="fileName">File Name:</label>
            <input type="text" id="fileName" name="fileName">
            <br>
            <label for="fileContent">File Content:</label>
            <input type="file" id="fileContent" name="file">
            <br>
            <button type="submit">Add File</button>
        </form>

        <!-- Form to delete a file -->
        <h2>Delete File</h2>
        <form id="deleteFileForm" action="/files/:id?_method=DELETE" method="POST">
            <label for="deleteFileName">File ID:</label>
            <input type="text" id="deleteFileName" name="id">
            <br>
            <button type="submit">Delete File</button>
        </form>

        <!-- Form to update file content -->
        <h2>Update File</h2>
        <form id="updateFileForm" enctype="multipart/form-data" action="/update/:id" method="POST">
            <label for="updateFileName">File ID:</label>
            <input type="text" id="updateFileName" name="id">
            <br>
            <label for="newFileContent">New File Content:</label>
            <input type="file" id="newFileContent" name="file">
            <br>
            <button type="submit">Update File</button>
        </form>
    </section>
    <!-- Include any JavaScript files or inline scripts here -->
    <script>
        // Add event listeners to the forms
        document.getElementById('addFileForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            // Get form data
            const formData = new FormData(this);
            const fileName = formData.get('fileName');
            const fileContent = formData.get('fileContent');

            // Send a POST request to the backend to add the file
            fetch('/admin/core-courses/add-file', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ fileName, fileContent })
            })
            .then(response => {
                if (response.ok) {
                    alert('File added successfully');
                } else {
                    alert('Failed to add file');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while adding the file');
            });
        });

        // Similar event listeners for delete and update file forms
        // You can implement these based on the routes defined in the backend
    </script>
     <script>
        // Define course options based on course type
        const courseOptions = {
            core: [
                { name: "Introduction to Computer Science / CS 1110", href: "CoreCourses/cs1100.html" },
                { name: "Digital Logic Design / CS 1120", href: "CoreCourses/cs1120.html" },
                { name: "Introduction to Computer Programming / CS 1140", href: "CoreCourses/cs1140.html" },
                // Add more core courses here...
            ],
            elective: [
                // Define elective courses here...
            ],
            general: [
                { name: "Applied Calculus 1 / MAT 1112", href: "GeneralCourses/mat1112.html" },
                { name: "General Physics / PHY 1103", href: "GeneralCourses/phy1103.html" },
                // Add more general courses here...
            ]
        };
 // Define resource options based on resource type
 const resourceOptions = {
            exams: [
                { name: "Midterm Exam", href: "#" },
                { name: "Final Exam", href: "#" },
                // Add more exam options here...
            ],
            assignments: [
                { name: "Assignment 1", href: "#" },
                { name: "Assignment 2", href: "#" },
                // Add more assignment options here...
            ],
            slides: [
                { name: "Lecture Slides 1", href: "#" },
                { name: "Lecture Slides 2", href: "#" },
                // Add more slide options here...
            ],
            books: [
                { name: "Textbook 1", href: "#" },
                { name: "Textbook 2", href: "#" },
                // Add more book options here...
            ],
            tutorials: [
                { name: "Tutorial 1", href: "#" },
                { name: "Tutorial 2", href: "#" },
                // Add more tutorial options here...
            ],
            explanations: [
                { name: "Explanation 1", href: "#" },
                { name: "Explanation 2", href: "#" },
                // Add more explanation options here...
            ],
            project: [
                { name: "Project Guidelines", href: "#" },
                { name: "Project Template", href: "#" },
                // Add more project options here...
            ],
            summary: [
                { name: "Course Summary", href: "#" },
                { name: "Topic Summary", href: "#" },
                // Add more summary options here...
            ]
        };

        // Function to populate courses dropdown based on course type selection
        function populateCourses(courseType) {
            const coursesDropdown = document.getElementById('courses');
            coursesDropdown.innerHTML = '';

            courseOptions[courseType].forEach(course => {
                const option = document.createElement('option');
                option.value = course.href;
                option.textContent = course.name;
                coursesDropdown.appendChild(option);
            });
        }

        // Event listener for course type dropdown
        document.getElementById('courseType').addEventListener('change', function() {
            const selectedCourseType = this.value;
            populateCourses(selectedCourseType);
        });

        // Event listener for course selection
        document.getElementById('courses').addEventListener('change', function() {
            const selectedCourseHref = this.value;
            window.location.href = selectedCourseHref; // Redirect to the selected course page
        });

        // Initially populate courses dropdown based on the default course type selection
        populateCourses('core'); // Or 'elective' or 'general' based on your requirement
    </script>
</body>
</html>

